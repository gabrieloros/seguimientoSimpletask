<link rel="stylesheet" type="text/css" href="app/template/style.css">



<div class="wrapper">


    <div class="responsive">

        <button class="navbar-toggler" type="button" ng-click="showBlock = !showBlock">
            <span class="navbar-toggler-icon"><img src="app/template/img/collapse.png"></span>
            </button>

    </div>

    <div class="navbar-nav mr-auto block" class="collapse navbar-collapse" ng-class="{'force-show': showBlock}">




        <div class="Box1">
            <div class="titulo">{{ instalation.name }}</div>
        </div>

        <div class="btn-group btn-group-toggle">
            <label class="btn btn-secondary">
            <input type="radio" autocomplete="off" ng-model="timeCode" value="0" ng-change="changeTimeCode()" ng-checked="true"> Día
        </label>
            <label class="btn btn-secondary">
            <input type="radio" autocomplete="off" ng-model="timeCode" value="1" ng-change="changeTimeCode()"> Histórico
        </label>
        </div>

        <div class="Box2">
            <!--<button>ver</button>-->
            <div class="totales"><a class="total" ng-click="getClaimAmounts(0)">Total: {{ instalation.total_completed_claims + instalation.total_pending_claims }}</a></div>
            <div><a class="terminadas" ng-click="getClaimAmounts(2)">{{ instalation.total_completed_claims }}</a></div>
            <div><a class="pendientes" ng-click="getClaimAmounts(1)">{{ instalation.total_pending_claims }}</a></div>
            <!-- <div class="terminadas">{{ instalation.total_completed_claims }}</div>
        <div class="pendientes" > {{ instalation.total_pending_claims }}</div>
        <div class="totales">Total: {{ instalation.total_completed_claims + instalation.total_pending_claims }}</div> -->
        </div>

        <div class="Box3">
            <select class="titulo" ng-model="currentProjectId" ng-change="changeCurrentProject()" ng-options="project.id as project.name for project in projects"></select>
            <!--<div class="titulo">{{ currentProjectName }}</div> -->
            <!--<button>ver</button> -->

            <div class="totales">
                <div class="total"><a class="total" ng-click="getCount(0)">Total: {{ projectPendingClaims + projectCompletedClaims }}</a></div>
                <div><a class="terminadas" ng-click="getCount(2)">{{ projectCompletedClaims }}</a></div>
                <div><a class="pendientes" ng-click="getCount(1)">{{ projectPendingClaims }}</a></div>
            </div>
        </div>

        <div class="Box4">
            <div class="Box5" ng-repeat="selectedUser in selectedUsers track by $index">
                <div class="Box5-1">
                    <div class="date">{{ selectedUser.last_position_date | date:'dd-MM-yyyy HH:mm:ss' }}</div>
                    <div class="titulo">{{ selectedUser.full_name | limitTo: 11 }}</div>
                </div>
                <div class="Box5-2">
                    <div class="total">Total: {{selectedUser.pending_claims + selectedUser.completed_claims}}</div>
                    <div class="pendientes">{{ selectedUser.pending_claims }}</div>
                    <div class="terminadas">{{ selectedUser.completed_claims }}</div>

                </div>
                <div class="Box5-3">
                    <div class="cerrar">
                        <a href="#" ng-click="removeUser(selectedUser)"><img src="app/template/img/cerrar.png"></a>
                    </div>
                </div>
            </div>
        </div>

        <div class="Box6">
            <div class="titulo">Agregar Usuarios</div>
        </div>


        <div class="Box7">
            <div class="Box8" ng-repeat="freeUser in freeUsers track by $index">
                <div class="flecha">
                    <a href="#" ng-click="selectUser(freeUser)"><img src="app/template/img/flecha.png"></img>
                    </a>
                </div>
                <div class="terminadas">{{ freeUser.completed_claims }}</div>
                <div class="pendientes">{{ freeUser.pending_claims }}</div>
                <div class="nombre">{{ freeUser.full_name | limitTo: 16 }}</div>
            </div>
        </div>
    </div>

</div>


<div class="circulos">
    <div class="pendientes">
        <div class="valor">{{ pendingClaims }}</div>
        <div class="estado">Pendientes</div>
    </div>
    <div class="terminados">
        <div class="valor">{{ completedClaims }}</div>
        <div class="estado">Terminados</div>
    </div>
</div>